const _deploymentsViewDef={
  _if:"k8s._uiSwitch._curMainTab=='_deployments'",
  _tag:"div",
  _after:function(){
    k8s._getDeployments()
  },
  _attr:{
    class:"bz-list-box"
  },
  _items:[
    {
      _tag:"div",
      _attr:{
        class:"bz-v-panel"
      },
      _items:[
        {
          _tag:"div",
          _items:[
            {
              _tag:"div",
              _attr:{
                class:"'bz-list-row '+(_data._item==k8s._data._curDeployment?'bz-highlight':'')"
              },
              _items:[
                {
                  _tag:"a",
                  _attr:{
                    class:"bz-node-title"
                  },
                  _html:function(d){
                    return _attachHighlight(d._item._name,k8s._data._config.filter[k8s._data._config.ns],d._item)
                  },
                  _jqext:{
                    click:function(){
                      k8s._data._curDeployment=this._data._item
                      k8s._getDeployment(k8s._data._curDeployment)
                    }
                  }
                },
                {
                  _tag:"div",
                  _attr:{
                    style:"flex:1"
                  }
                },
                {
                  _tag:"div",
                  _attr:{
                    class:"input-group",
                    style:"width:100px;"
                  },
                  _items:[
                    {
                      _tag:"label",
                      _attr:{
                        class:"input-group-addon"
                      },
                      _text:"_k8sMessage._common._scale"
                    },
                    {
                      _tag:"input",
                      _attr:{
                        class:"form-control",
                        type:"number",
                        min:0,
                        step:1
                      },
                      _dataModel:"_data._item._scale"
                    }
                  ]
                },
                {
                  _tag:"button",
                  _attr:{
                    title:"_k8sMessage._method[_data._item]",
                    style:"margin-right:10px;",
                    class:"btn btn-icon bz-play bz-none-border bz-middle-btn"
                  },
                  _jqext:{
                    click:function(){
                      k8s._setScale(this._data._item)
                    }
                  }
                }
              ]
            }
          ],
          _dataRepeat:function(){
            let r=k8s._data._config.filter[k8s._data._config.ns]
            r=r&&new RegExp(r)
            return (k8s._data._deployments||[]).filter(x=>{
              return r?x._name.match(r):1
            })
          }
        }
      ]
    }
  ]
};